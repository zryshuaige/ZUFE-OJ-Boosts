#include<bits/stdc++.h>
using namespace std;
const int N =105;
int ans=1;
struct node
{
	int data,left,right;
}a[N];

void dfs(int x,int value)
{   
	int cnt=value;
	if(a[x].right==0&&a[x].left==0) return;
	else cnt++;
	ans=max(ans,cnt);
	if(a[x].left!=0)	
		dfs(a[x].left,cnt);
	if(a[x].right!=0)
		dfs(a[x].right,cnt);
}	
int main()
{
	int n;cin>>n;
	for(int i=1;i<=n;i++)
		cin>>a[i].data>>a[i].left>>a[i].right;
	dfs(1,1);
	printf("%d",ans);
	return 0;
}
